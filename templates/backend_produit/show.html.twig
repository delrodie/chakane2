{% extends 'backend_layout.html.twig' %}

{% block title %}Produit{% endblock %}

{% block body %}
    <div class="container-fluid">
        <div class="card bg-light-info shadow-none position-relative overflow-hidden">
            <div class="card-body px-4 py-3">
                <div class="row align-items-center">
                    <div class="col-9">
                        <h4 class="fw-semibold mb-8">Product Detail</h4>
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a class="text-muted" href="index.html">Dashboard</a></li>
                                <li class="breadcrumb-item" aria-current="page">detail</li>
                            </ol>
                        </nav>
                    </div>
                    <div class="col-3">
                        <div class="text-center mb-n5">
                            <span class="head-icon"><i class="ti-package"></i></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="shop-detail">
            <div class="card shadow-none border">
                <div class="card-header">
                    <div class="row">
                        <div class="col"><h5 class="mb-2 fw-semibold fs-4">Liste</h5></div>
                        <div class="col">
                            <div class="action">
                                <a href="{{ absolute_url(path('app_backend_produit_index')) }}" class="btn btn-outline-secondary">
                                    <i class="ti-file"></i> &nbsp; Tableau
                                </a>
                                <a href="{{ absolute_url(path('app_backend_produit_liste')) }}" class="btn btn-outline-primary">
                                    <i class="ti-list"></i> &nbsp; Liste
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-body p-4">
                    <div class="row">
                        <div class="col-lg-6">
                            <div id="sync1" class="owl-carousel owl-theme">
                                <div class="item rounded overflow-hidden">
                                    <img src="{{ absolute_url(asset('upload/produits/' ~ produit.media)) }}" alt="" class="img-fluid">
                                </div>
                            </div>

                        </div>
                        <div class="col-lg-6">
                            <div class="shop-content">
                                <div class="d-flex align-items-center gap-2 mb-2">
                                    {% for categorie in produit.categories %}
                                        <span class="badge text-bg-primary fs-2 fw-semibold rounded-3">{{ categorie.titre }}</span>
                                    {% endfor %}

                                </div>
                                <h4 class="fw-semibold mt34">{{ produit.titre }}</h4>
                                <h4 class="fw-semibold mb-3 mt-5">
                                    {% if produit.solde %}
                                        {{ produit.solde|number_format(0,'','.') }} FCFA
                                        <del class="fs-5 text-muted">{{ produit.montant }} FCFA  </del>
                                    {% endif %}
                                </h4>
                                <div class="d-flex align-items-center gap-2 py-3">
                                    <h6 class="mb-0 fs-4 fw-semibold">Couleurs:</h6>
                                    {{ produit.couleur }}
                                </div>
                                <div class="d-flex align-items-center gap-2 py-3">
                                    <h6 class="mb-0 fs-4 fw-semibold">Poids:</h6>
                                    <span class="text-primary fw-semibold fs-4">{{ produit.poids }} Kg</span>
                                </div>
                                <div class="d-flex align-items-center gap-2 py-3">
                                    <h6 class="mb-0 fs-4 fw-semibold">Taille:</h6>
                                    <span class="text-primary fw-semibold fs-4">{{ produit.taille }}</span>
                                </div>
                                <div class="d-flex align-items-center gap-2 pb-7 mb-7 border-bottom">
                                    <h6 class="mb-0 fs-4 fw-semibold">Quantité:</h6>
                                    <span class="text-primary fw-semibold fs-4">{{ produit.stock }}</span>
                                </div>
                                <div class="d-sm-flex align-items-center gap-3 pt-8 mb-7">
                                    <a href="{{ absolute_url(path('app_backend_produit_edit', {'id': produit.id})) }}" class="btn d-block btn-primary px-5 py-8 mb-2 mb-sm-0"><i class="ti-pencil"></i> Modifier</a>
                                    <a href="{{ absolute_url(path('app_backend_produit_image_new', {'produit': produit.id})) }}" class="btn d-block btn-outline-warning px-7 py-8"><i class="ti-image"></i> Images</a>
                                    {{ include('backend_produit/_delete_form.html.twig') }}
                                </div>
                                <p class="mb-0"></p>
                                <a href="javascript:void(0)">{{ produit.tags }}</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card shadow-none border">
                <div class="card-body p-4">
                    <ul class="nav nav-pills user-profile-tab border-bottom" id="pills-tab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link position-relative rounded-0 active d-flex align-items-center justify-content-center bg-transparent fs-3 py-6" id="pills-description-tab" data-bs-toggle="pill" data-bs-target="#pills-description" type="button" role="tab" aria-controls="pills-description" aria-selected="true">
                                Description
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link position-relative rounded-0 d-flex align-items-center justify-content-center bg-transparent fs-3 py-6" id="pills-reviews-tab" data-bs-toggle="pill" data-bs-target="#pills-reviews" type="button" role="tab" aria-controls="pills-reviews" aria-selected="false">
                                Conseil
                            </button>
                        </li>
                    </ul>
                    <div class="tab-content pt-4" id="pills-tabContent">
                        <div class="tab-pane fade show active" id="pills-description" role="tabpanel" aria-labelledby="pills-description-tab" tabindex="0">
                            {{ produit.description|raw }}
                        </div>
                        <div class="tab-pane fade" id="pills-reviews" role="tabpanel" aria-labelledby="pills-reviews-tab" tabindex="0">
                            {{ produit.conseil|raw }}
                        </div>
                    </div>
                </div>
            </div>
            <div class="related-products pt-7">
                <h4 class="mb-3 fw-semibold">Photos associées</h4>
                <div class="row">
                    {% for produit_image in produit.produitImages %}
                        <div class="col-sm-6 col-xl-3">
                            <div class="card hover-img overflow-hidden rounded-2">
                                <div class="position-relative">
                                    <a href="javascript:void(0)"><img src="{{ absolute_url(asset('upload/produits/' ~ produit_image.media)) }}" class="card-img-top rounded-0" alt="{{ produit.titre }}"></a>
                                </div>
                                <div class="card-body pt-3 p-4">
                                    <div class="d-flex align-items-center justify-content-around">
                                        <a href="{{ path('app_backend_produit_image_edit', {'id': produit_image.id, 'produit':produit.id}) }}" class="btn btn-primary btn-sm">Modifier</a>
                                        {{ include('backend_produit_image/_delete_form.html.twig') }}
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.20/dist/sweetalert2.min.css">
{% endblock %}

